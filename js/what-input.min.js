!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("whatInput",[],t):"object"==typeof exports?exports.whatInput=t():e.whatInput=t()}(this,function(){return function(e){function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,t){e.exports=function(){var e=document.documentElement,t="initial",n=null,i=["input","select","textarea"],r=[16,17,18,91,93],o={keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch"},s=[],a=!1,u={2:"touch",3:"touch",4:"mouse"},f=null,l=function(){o[y()]="mouse",c(),p()},c=function(){window.PointerEvent?(e.addEventListener("pointerdown",d),e.addEventListener("pointermove",h)):window.MSPointerEvent?(e.addEventListener("MSPointerDown",d),e.addEventListener("MSPointerMove",h)):(e.addEventListener("mousedown",d),e.addEventListener("mousemove",h),"ontouchstart"in window&&e.addEventListener("touchstart",g)),e.addEventListener(y(),h),e.addEventListener("keydown",d),e.addEventListener("keyup",d)},d=function(e){if(!a){var s=e.which,u=o[e.type];if("pointer"===u&&(u=m(e)),t!==u||n!==u){var f=document.activeElement&&-1===i.indexOf(document.activeElement.nodeName.toLowerCase())?!0:!1;("touch"===u||"mouse"===u&&-1===r.indexOf(s)||"keyboard"===u&&f)&&(t=n=u,p())}}},p=function(){e.setAttribute("data-whatinput",t),e.setAttribute("data-whatintent",t),-1===s.indexOf(t)&&(s.push(t),e.className+=" whatinput-types-"+t)},h=function(t){if(!a){var i=o[t.type];"pointer"===i&&(i=m(t)),n!==i&&(n=i,e.setAttribute("data-whatintent",n))}},g=function(e){window.clearTimeout(f),d(e),a=!0,f=window.setTimeout(function(){a=!1},200)},m=function(e){return"number"==typeof e.pointerType?u[e.pointerType]:"pen"===e.pointerType?"touch":e.pointerType},y=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"};return"addEventListener"in window&&Array.prototype.indexOf&&l(),{ask:function(e){return"loose"===e?n:t},types:function(){return s}}}()}])});